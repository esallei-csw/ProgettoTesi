unit PredictiveMaintenanceRT.PredictiveAlgorithm;

interface

type
  TPredictiveAlgorithm = class

  private
    {Private declarations}
    FCellId: integer;

    FThresholdPieces: integer;
    FThresholdWorkedTime: integer;
    FThresholdTimeToMaintenance: integer;

    FPiecesBuilt: integer;
    FPiecesToBuild: integer;

    FTimeWorked: integer;
    FTimeToWork: integer;
    FTotalTimeWorked: integer;

    FWorkTimeToNextMaintenance: integer;

    FTimeFromLastMaintenance: integer;
    FTimeToNextMaintenance: integer;

    function CalculateMaintenanceDate: integer;
    function WorkTimeToDays(AHours: Extended): Extended;
    function DaysToWorkDays(ADays: Extended): Extended;

  public
    {Public declarations}
  end;

implementation

{ TPredictiveAlgorithm }

function TPredictiveAlgorithm.CalculateMaintenanceDate: integer;
begin
  if FTotalTimeWorked > FThresholdWorkedTime then
    //in questo caso la manutenzione doveva già essere stata fatta

  FWorkTimeToNextMaintenance := FThresholdWorkedTime - FTimeWorked;

  //convertire FWorkTimeToNextMaintenance in giorni di lavoro calcolando che la macchina lavorerà teoricamente
  //8 ore al giorno e solo 5 giorni alla settimana quindi fare un calcolo che ritorna una data nel futuro


  //prendere in considerazione solo i tempi di lavoro per calcolare la data in base alla soglia tramite tempo di lavoro+

  //prendere in considerazione solo i pezzi prodotti per calcolare la data in base alla soglia tramite i pezzi prodotti


  //se so che la soglia è di 100 pezzi e ne ho già prodotti 30 fino ad adesso la data sarà:
  //data di oggi + giorni che servono per produrre altri 70 pezzi



  //prendere in considerazione solo la data dall ultima manutenzione fino ad oggi per calcolare
  //la data in base alla soglia di tempo generale


end;

function TPredictiveAlgorithm.DaysToWorkDays(ADays: Extended): Extended;
begin
  //teoricamente bisogna aggiungere 2 giorni ovvero sabato e domenica, ma solo quando i giorni sono più di 5
  //se i giorni sono meno o uguali a 5 risultato ==
end;

function TPredictiveAlgorithm.WorkTimeToDays(AHours: Extended): Extended;
begin
  Result := AHours / 8;
end;

end.
